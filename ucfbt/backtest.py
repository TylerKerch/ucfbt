def backtest(init, update, prices, signals):
    context = {}
    init(context)
    # TODO: Loop over signal data
    # Use orders from update in order to 
    # Pseudocode:
    # for signal in signals:
    #   actions = update(signal)
    #   update_portfolio_from_actions()
    # Return results
